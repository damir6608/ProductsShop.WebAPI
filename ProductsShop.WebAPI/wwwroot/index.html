<!DOCTYPE html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <meta charset="utf-8" />
    <title></title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css" />
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container">

                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <main role="main" class="pb-3">
            <div class="card bg-light mb-3" style="max-width: 100%;">
                <div class="card-header text-center">
                    Продуктовый магазин
                </div>
                <div class="card-body text-center">
                    <form id="FormProduct" name="product" method="post">
                        <div class="card text-white text-center" style="max-width: 100%;">

                            <div class="container text-center" >
                                <br/><table class="table table-striped text-center" style="max-width: 100%;">
                                    <thead>
                                    </thead>
                                    <colgroup>
                                        <col width="150">
                                        <col width="80">
                                        <col width="120">
                                    </colgroup>
                                    <tbody >
                                        <tr>
                                            <th width="100px">
                                                <label for="Name">Название продукта</label>
                                            </th>
                                            <td>
                                                <input class="text-box single-line" id="Name" name="Name" type="text" value="">
                                            </td>
                                        </tr>

                                        <tr>
                                            <th width="100px">
                                                <label for="Manufacturer">Производитель</label>
                                            </th>
                                            <td>
                                                <input class="text-box single-line" id="Manufacturer" name="Manufacturer" type="text" value="">
                                            </td>
                                        </tr>

                                        <tr>
                                            <th width="100px">
                                                <label for="Type">Тип продукта</label>
                                            </th>
                                            <td>
                                                <input class="text-box single-line" id="Type" name="Type" type="text" value="">
                                            </td>
                                        </tr>

                                        <tr>
                                            <th width="100px">
                                                <label for="Quantity">Количество</label>
                                            </th>
                                            <td>
                                                <input class="text-box single-line" id="Quantity" name="Quantity" type="text" value="">
                                            </td>
                                        </tr>

                                        <tr>
                                            <th width="100px">
                                                <label for="Cost">Стоимость</label>
                                            </th>
                                            <td>
                                                <input class="text-box single-line"  id="Cost" name="Cost" type="number" value="">
                                            </td>
                                        </tr>

                                        <tr>
                                            <th width="100px">
                                                <label for="DeliveryDate">Дата поставки</label>
                                            </th>
                                            <td>
                                                <input class="text-box single-line" id="DeliveryDate" name="DeliveryDate" type="number" value="">
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div>
                            <input class="navbar-toggler" id="addProduct" type="submit" value="Добавить продукт">
                        </div>
                    </form>
                </div>
            </div>
            <div class="card text-white bg-dark" style="max-width: 100%;">
                <div class="card-header text-center">
                    Список покупателей
                </div>
                <div class="card-body text-center">
                    <div>
                        <div class="container">
                            <table class="table table-striped text-white">
                                <thead>
                                    <tr>
                                        <th>Название продукта</th>
                                        <th>Производитель</th>
                                        <th>Тип продукта</th>
                                        <th>Количество</th>
                                        <th>Стоимость</th>
                                        <th>Дата поставки</th>
                                        <th>Действия</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Колбаса</td>
                                        <td>ООО"Казанский колбасный завод"</td>
                                        <td>Колбасные изделия</td>
                                        <td>12</td>
                                        <td>143</td>
                                        <td>25.01.2022</td>
                                        <td>
                                            <a href="">Редактировать</a>
                                            <a href="">Удалить</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; Автор Латыпов Дамир Ильдарович группа 4332
        </div>
    </footer>
    <!--<script src="site.js"></script>-->
</body>
</html>
<script>
    $(document).ready(function () {
        $.ajax({
            url: "https://localhost:44317/api/goods/getall",
            type: 'GET',
            dataType: 'json'
        }).done(function (res) {

        });
    });
    // this is the id of the form
    $("#FormProduct").submit(function (e) {

        e.preventDefault();
        var form = $(this);

        $.ajax({
            url: "https://localhost:44317/api/goods/create",
            type: "POST",
            dataType:'json',
            data: form.serialize(),
            success: function (data) {
                console.log('Submission was successful.');
                console.log(data);
                console.log(form.serialize())
            },
            error: function (data) {
                console.log('An error occurred.');
                console.log(data);
                console.log(form.serialize())
            }
        });

    });
</script>